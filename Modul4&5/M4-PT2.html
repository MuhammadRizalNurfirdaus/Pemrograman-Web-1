<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Menghitung Penjualan</title>
    <style>
        .tengah {
            text-align: center;
        }
    </style>
    <script>
        function KoBa() {
            const barang = document.getElementById("br").value;
            let harga = 0;

            switch (barang) {
                case "Buku":
                    harga = 5000;
                    break;
                case "Penggaris":
                    harga = 1500;
                    break;
                case "Pulpen":
                    harga = 2000;
                    break;
            }

            document.getElementById("nb").value = barang;
            document.getElementById("h").value = harga;
        }

        function hitung() {
            const harga = parseInt(document.getElementById("h").value);
            const jumlah = parseInt(document.getElementById("j").value);
            let potongan = 0;

            if (jumlah <= 10) {
                potongan = 0.05;
            } else if (jumlah <= 20) {
                potongan = 0.1;
            } else {
                potongan = 0.15;
            }

            const jumlahBayar = harga * jumlah;
            const totalPotongan = jumlahBayar * potongan;
            const totalBayar = jumlahBayar - totalPotongan;

            document.getElementById("jb").value = jumlahBayar;
            document.getElementById("p").value = totalPotongan;
            document.getElementById("t").value = totalBayar;
        }

        function nota() {
            const namaBarang = document.getElementById("nb").value;
            const jumlah = document.getElementById("j").value;
            const harga = document.getElementById("h").value;
            const jumlahBayar = document.getElementById("jb").value;
            const potongan = document.getElementById("p").value;
            const totalBayar = document.getElementById("t").value;

            document.getElementById("notaPenjualan").innerHTML = 
            `<h2>Nota Penjualan</h2>
            <table>
                <tr><td>Nama Barang</td><td>= ${namaBarang}</td></tr>
                <tr><td>Jumlah Beli</td><td>= ${jumlah}</td></tr>
                <tr><td colspan="2">--------------------------------</td></tr>
                <tr><td>Harga</td><td>= ${harga}</td></tr>
                <tr><td>Jumlah Bayar</td><td>= ${jumlahBayar}</td></tr>
                <tr><td>Potongan</td><td>= ${potongan}</td></tr>
                <tr><td colspan="2">===================</td></tr>
                <tr><td>Total Bayar</td><td>= ${totalBayar}</td></tr>
            </table>`;
        }
    </script>
</head>
<body>
    <h1>Form Menghitung Penjualan</h1>
    <form>
        <table border="1">
            <tr>
                <td class="tengah" colspan="2"><label>Perhitungan Penjualan</label></td>
            </tr>
            <tr>
                <td>Kode Barang</td>
                <td>
                    <select id="br" onchange="KoBa()">
                        <option value="">-- Pilih Salah Satu --</option>
                        <option value="Buku">B001</option>
                        <option value="Penggaris">B002</option>
                        <option value="Pulpen">B003</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Jumlah Beli</td>
                <td><input type="number" id="j" onchange="hitung()" /></td>
            </tr>
            <tr>
                <td>Nama Barang</td>
                <td><input type="text" id="nb" readonly /></td>
            </tr>
            <tr>
                <td>Harga</td>
                <td><input type="text" id="h" readonly /></td>
            </tr>
            <tr>
                <td>Jumlah Bayar</td>
                <td><input type="text" id="jb" readonly /></td>
            </tr>
            <tr>
                <td>Potongan</td>
                <td><input type="text" id="p" readonly /></td>
            </tr>
            <tr>
                <td>Total Bayar</td>
                <td><input type="text" id="t" readonly /></td>
            </tr>
            <tr>
                <td class="tengah" colspan="2">
                    <button type="button" onclick="nota()">Tampilkan</button>
                </td>
            </tr>
        </table>
    </form>
    <div id="notaPenjualan"></div>
</body>
</html>
